(this["webpackJsonpgallery-on-react"]=this["webpackJsonpgallery-on-react"]||[]).push([[0],{10:function(e,t,i){e.exports=i(17)},15:function(e,t,i){},16:function(e,t,i){},17:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i.n(n),c=i(7),s=i.n(c);i(15),i(16);var r=function(e){return a.a.createElement("div",{className:e.className},a.a.createElement("h1",null,"Simple gallery"))},o=i(2),l=i(3),u=i(5),d=i(4),h=i(1),m=i(6),p=i(9),g=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(u.a)(this,Object(d.a)(t).call(this))).state={scrPicture:"",commentPicture:"",showAddForm:!1},i.handleChange=i.handleChange.bind(Object(h.a)(i)),i.handleClick=i.handleClick.bind(Object(h.a)(i)),i}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,i=t.name,n=t.value;console.log(i,n),this.setState(Object(p.a)({},i,n))}},{key:"handleClick",value:function(e){var t=e.target.name;"addPicture"===t?this.props.addPicture(this.state.scrPicture,this.state.commentPicture):"openAddForm"!==t&&"cancel"!==t||this.setState({showAddForm:!this.state.showAddForm})}},{key:"render",value:function(){return a.a.createElement("div",{className:this.props.className},a.a.createElement("h2",null,"Menu"),a.a.createElement("button",{name:"openAddForm",onClick:this.handleClick},"Add picture "),this.state.showAddForm&&a.a.createElement("div",{className:"fields"},a.a.createElement("span",null,"Image: "),a.a.createElement("input",{type:"text",className:"scrPicture",name:"scrPicture",value:this.state.scrPicture,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("span",null," Comment: "),a.a.createElement("input",{type:"text",className:"commentPicture",name:"commentPicture",value:this.state.commentPicture,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("button",{name:"addPicture",onClick:this.handleClick},"Add"),a.a.createElement("button",{name:"cancel",onClick:this.handleClick},"Cancel")))}}]),t}(a.a.Component),b=function(){function e(){Object(o.a)(this,e),this.picturies=[{id:1,src:"http://www.caricature-art.com/wp-content/uploads/2019/01/%D0%A8%D0%B5%D1%80%D0%BB%D0%BE%D0%BA-785x785.jpg",comment:"first comment for first picture"},{id:5,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQc3dTFigPTqNO4Z9xuxh4mX2AZCm00OaWKuSQXmBoBI7cxCl4q",comment:"second picture"},{id:7,src:"https://thumbs.dreamstime.com/z/%D1%88%D0%B0%D1%80%D0%B6-%D1%81%D1%8B%D1%89%D0%B8%D0%BA%D0%B0-sherlock-holmes-71359566.jpg",comment:"third picture"},{id:8,src:"https://i.pinimg.com/originals/48/8c/b8/488cb806c99e0266b614cbbfa288c179.jpg",comment:"fourth picture"}]}return Object(l.a)(e,[{key:"getPicturies",value:function(){return this.picturies}},{key:"addPicture",value:function(e){this.picturies=this.picturies.concat(e)}},{key:"changePicture",value:function(e,t){var i=this.picturies.map((function(i){return i.id===e?t:i}));this.picturies=i}},{key:"deletePicture",value:function(e){console.log("deletePicture");var t=this.picturies.filter((function(t){return t.id!==Number(e)}));console.log(t),this.picturies=t,console.log(this.picturies)}}]),e}(),v=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(u.a)(this,Object(d.a)(t).call(this))).handleClickOutside=i.handleClickOutside.bind(Object(h.a)(i)),i}return Object(m.a)(t,e),Object(l.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside,!1),console.log("addEventListener")}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside,!1),console.log("removeEventListener")}},{key:"handleClickOutside",value:function(e){s.a.findDOMNode(this).contains(e.path[0])||(console.log("OUTSIDE"),this.props.doEdit())}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("textarea",{id:this.props.id,name:"comment",className:this.props.className,value:this.props.comment,onChange:this.props.handleChange,onKeyPress:this.props.onKeyPress}))}}]),t}(a.a.Component),E=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(u.a)(this,Object(d.a)(t).call(this))).state={canEdit:!1},i.doEdit=i.doEdit.bind(Object(h.a)(i)),i.onKeyPress=i.onKeyPress.bind(Object(h.a)(i)),i}return Object(m.a)(t,e),Object(l.a)(t,[{key:"doEdit",value:function(){this.setState({canEdit:!this.state.canEdit})}},{key:"onKeyPress",value:function(e){console.log("onKeyPress"),"Enter"===e.key&&this.doEdit()}},{key:"render",value:function(){return a.a.createElement("div",{className:"picture"},a.a.createElement("button",{id:this.props.picture.id,name:"delete",className:"delete",onClick:this.props.handleClick},"X"),a.a.createElement("img",{id:this.props.picture.id,name:"picture",src:this.props.picture.src,alt:this.props.picture.comment,onClick:this.props.handleClick}),this.state.canEdit?a.a.createElement(v,{id:this.props.picture.id,className:"canEdit",comment:this.props.picture.comment,handleChange:this.props.handleChange,onKeyPress:this.onKeyPress,doEdit:this.doEdit}):a.a.createElement("div",{className:"notEdit",name:"comment",title:"edit",onClick:this.doEdit},this.props.picture.comment))}}]),t}(a.a.Component),f=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleClickOutside=e.handleClickOutside.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside,!1),console.log("addEventListener")}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside,!1),console.log("removeEventListener")}},{key:"handleClickOutside",value:function(e){s.a.findDOMNode(this).contains(e.path[0])||(console.log("OUTSIDE"),this.props.hiddenBigPicture())}},{key:"render",value:function(){return a.a.createElement("div",{className:"bigPicture"},a.a.createElement("img",{id:this.props.picture.id,name:"bigPicture",src:this.props.picture.src,alt:this.props.picture.comment}))}}]),t}(a.a.Component),k=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(u.a)(this,Object(d.a)(t).call(this))).state={pictureData:[],pictureList:[],bigPicture:{},showBigPicture:!1},i.handleChange=i.handleChange.bind(Object(h.a)(i)),i.handleClick=i.handleClick.bind(Object(h.a)(i)),i.hiddenBigPicture=i.hiddenBigPicture.bind(Object(h.a)(i)),i.addPicture=i.addPicture.bind(Object(h.a)(i)),i}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=new b;this.setState({pictureData:e,pictureList:e.getPicturies()})}},{key:"handleClick",value:function(e){var t=this,i=e.target,n=i.id,a=i.name;"picture"===a&&this.state.pictureList.forEach((function(e){String(e.id)===n&&t.setState({bigPicture:e,showBigPicture:!0})})),"delete"===a&&(console.log("delete"),this.state.pictureData.deletePicture(n),this.setState({pictureList:this.state.pictureData.getPicturies()}))}},{key:"handleChange",value:function(e){var t=e.target,i=t.id,n=t.name,a=t.value;if(console.log("handleChange"+a),"comment"===n){var c=this.state.pictureList.map((function(e){return String(e.id)===String(i)?(e.comment=a,console.log("comment: "+a),e):e}));console.log(c),this.setState({pictureList:c})}}},{key:"hiddenBigPicture",value:function(){this.setState({showBigPicture:!1})}},{key:"addPicture",value:function(e,t){var i=this.state.pictureList.map((function(e){return Number(e.id)})),n={id:(0!==this.state.pictureList.length?Math.max.apply(null,i):0)+1,src:e,comment:t};this.state.pictureData.addPicture(n),this.setState((function(e){return{pictureList:e.pictureList.concat(n)}}))}},{key:"render",value:function(){var e=this,t=this.state.pictureList.map((function(t){return a.a.createElement(E,{key:"picture ".concat(t.id),picture:t,handleClick:e.handleClick,handleChange:e.handleChange,onKeyPress:e.onKeyPress,openBigPicture:e.openBigPicture})}));return a.a.createElement("div",null,a.a.createElement(g,{className:"leftMenu",addPicture:this.addPicture}),a.a.createElement("div",{className:this.props.className},t,this.state.showBigPicture&&a.a.createElement(f,{picture:this.state.bigPicture,hiddenBigPicture:this.hiddenBigPicture})))}}]),t}(a.a.Component);var C=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(r,{className:"header"}),a.a.createElement(k,{className:"gallery"}))};s.a.render(a.a.createElement(C,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.163440ba.chunk.js.map